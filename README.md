#  Telegram-–±–æ—Ç –æ—Ç—á—ë—Ç–æ–≤ –ø–æ —Å–æ—Ü—Å–µ—Ç–∏ (Airflow + ClickHouse)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ—Ü—Å–µ—Ç–∏, —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á—ë—Ç –≤ Telegram.

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –≤–∏–¥–µ DAG –¥–ª—è Apache Airflow –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ ClickHouse —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `pandahouse`.

---

##  –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

–°–∫—Ä–∏–ø—Ç `report_all_app.py` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ ClickHouse:**
   - DAU –ø–æ –ª–µ–Ω—Ç–µ, —Å–æ–æ–±—â–µ–Ω–∏—è–º –∏ –æ–±—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - –ö–æ–ª-–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤, –ª–∞–π–∫–æ–≤, —Å–æ–æ–±—â–µ–Ω–∏–π
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ:
     - –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º
     - –ø–æ–ª—É
     - –≤–æ–∑—Ä–∞—Å—Ç—É
     - –∏—Å—Ç–æ—á–Ω–∏–∫—É —Ç—Ä–∞—Ñ–∏–∫–∞
   - Retention –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π 90+ –¥–Ω–µ–π –Ω–∞–∑–∞–¥
   - –õ–∞–π–∫–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã –≤ –ø–µ—Ä–µ—Å—á—ë—Ç–µ –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–§–æ—Ä–º–∏—Ä—É–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:**
   - üìà –ì—Ä–∞—Ñ–∏–∫–∏ DAU, –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤, –ª–∞–π–∫–æ–≤
   - üìä –ë–∞—Ä—á–∞—Ä—Ç—ã –ø–æ OS, –ø–æ–ª—É, –≤–æ–∑—Ä–∞—Å—Ç—É –∏ –∏—Å—Ç–æ—á–Ω–∏–∫—É
   - üìâ Retention –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

3. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram:**
   - 3 PNG-–≥—Ä–∞—Ñ–∏–∫–∞
   - –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π Telegram-—á–∞—Ç —Å –ø–æ–º–æ—â—å—é Telegram Bot API

---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3**
- **Apache Airflow** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ DAG
- **ClickHouse** ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **pandas / matplotlib / seaborn** ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **pandahouse** ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ClickHouse
- **python-telegram-bot** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ –≤ Telegram

---

## üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 08:00 –ø–æ UTC (`0 8 * * *`), —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –≤—á–µ—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é.

---
## üì∏ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

### Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
<img src="screenshots/IMG_2506.PNG" width="250"/>
- [–ì—Ä–∞—Ñ–∏–∫ 1 (IMG_2503.JPG)](screenshots/IMG_2503.JPG)
- [–ì—Ä–∞—Ñ–∏–∫ 2 (IMG_2504.JPG)](screenshots/IMG_2504.JPG)
- [–ì—Ä–∞—Ñ–∏–∫ 3 (IMG_2505.JPG)](screenshots/IMG_2505.JPG)
